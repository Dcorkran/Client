<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->

<ion-view class="gradient-background2" view-title="Task Details" ng-controller="TaskDetailCtrl as $ctrl">
  <ion-nav-bar class="bar-dark background">
      <ion-nav-back-button>
      </ion-nav-back-button>
  </ion-nav-bar>

  <ion-content class="padding">
    <div class="list card">
      <div
        class="item item-avatar item-icon-left"
        ng-switch="$ctrl.task.description">
        <!-- TODO: add to h2 tag {{$ctrl.task.description}}  -->
        <!-- <div class="padding"><i class="icon ion-ios-trash"></i><h2>{{$ctrl.task.category}}</h2></div> -->
          <div ng-switch-when="Take Out Trash"><i class="icon ion-ios-trash"></i><h2>{{$ctrl.task.category}}</h2></div>
          <div ng-switch-when="Clean Room"><i class="icon ion-ios-home"></i><h2>{{$ctrl.task.category}}</h2></div>
          <div ng-switch-when="Clean Dishes"><i class="icon ion-fork"></i><h2>{{$ctrl.task.category}}</h2></div>
          <div ng-switch-default><i class="icon ion-ios-home"></i><h2>{{$ctrl.task.category}}</h2></div>
      </div>
      <div class="item item-body">
        <!-- <p>We are in the midst of a powerful deepening of growth that will give us
          access to the totality itself. Humankind has nothing to lose. Reality has
          always been bursting with spiritual brothers and sisters whose essences
          are enveloped in freedom. -->
        <!-- </p> -->
        <p>{{$ctrl.task.description}}</p>


        <div class="text-center" ng-if="$ctrl.parentView === true">
          <a ng-click="$ctrl.taskAccepted(true)"  id="accept" class="padding-right"><i class="ion-ios-checkmark balanced"></i></a>
          <a ng-click="$ctrl.taskAccepted(false)" id="reject" class="padding-left"><i class="ion-ios-close"></i></a>
        </div>

        <div class="row text-center" ng-if="$ctrl.childView === true">
          <div class="padding">
            <!-- <a ui-sref="tab.dash" id="mark-done" class="padding-right"><i class="ion-ios-checkmark calm"></i></a> -->
            <div>
              <i class="statusIcons padding icon ion-alert text-center"
                 ng-if="$ctrl.task.status === 'unstarted' && $ctrl.ParentView === true"></i>
            </div>
            <div>
              <i class="statusIcons padding icon ion-loop text-center calm"
                 ng-if="$ctrl.task.status === 'pending'&& $ctrl.childView === true"></i>
            </div>
            <div>
              <i class="statusIcons padding icon ion-checkmark text-center balanced"
                 ng-if="$ctrl.task.status === 'complete'"></i>
            </div>
          </div>
          <div class="padding">
              <button class="padding button button-balanced"
                      ng-if="$ctrl.childView === true && $ctrl.task.status === 'unstarted'"
                      ng-click="$ctrl.markTaskComplete()">
                Mark Task Complete
              </button>
          </div>
        </div>
      </div>
   </div>
  </ion-content>
</ion-view>

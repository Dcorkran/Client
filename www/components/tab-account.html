<ion-view class="gradient-background2" view-title="Account" ng-controller="AccountCtrl as $ctrl">
  <ion-nav-bar class="bar-dark background">
      <ion-nav-back-button></ion-nav-back-button>
      <button class="button button-clear button-positive">Edit</button>
  </ion-nav-bar>

  <ion-content>
    <!-- TODO: update parentView with token  -->
    <div class="list">
      <a class="item item-icon-left"><!-- TODO: update  -->
        <i class="icon ion-email positive"></i>
        <span class="positive">Parent Email:</span> {{$ctrl.parent.email}}
      </a>
      <a ng-if="$ctrl.childEmail === true" class="item item-icon-left" ><!-- TODO: update  -->
        <i class="icon ion-email positive" ></i>
        <span class="positive">Child Email:</span> {{$ctrl.child.email}}
      </a>
    </div>
    <div ng-if="$ctrl.parentView === true">
      <ion-list ng-if="$ctrl.childEmail === false">
        <ion-toggle
          id="toggleUpdateEmail"

          ng-model="$ctrl.showUpdateEmail">
            Activate Child Email
        </ion-toggle>
      </ion-list>

      <form
        name="addChildEmailForm"
        ng-if="$ctrl.showUpdateEmail === true"
        ng-submit="$ctrl.updateEmail()"
        class="list">
          <label class="item item-input item-floating-label">
            <span class="input-label light">Email</span>
            <input name="email" required type="email" ng-model="$ctrl.child.email" placeholder="Email">
            <p ng-show="addChildEmailForm.email.$invalid && addChildEmailForm.email.$touched" class="error">Please enter a valid email</p>
          </label>
          <div class="padding text-center">
            <button ng-disabled="addChildEmailForm.$invalid" type="submit" class="button button-calm text-center">Update Email</button>
          </div>
      </form>
      <div class="padding">
        <button ng-click="$ctrl.logOut()" class="logOut button button-block button-dark">Log Out</button>
      </div>

    </div>



  </ion-content>
</ion-view>
